A nice article for inline asm:  
https://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html#s4